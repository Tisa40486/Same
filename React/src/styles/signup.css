/* PAGE BACKGROUND & LAYOUT */
html, body { height: 100%; }
body {
    margin: 0;
    min-height: 100dvh;
    display: grid;
    place-items: center;
    background: url('../assets/img/same-register-login-background.png') center / cover no-repeat fixed;
    overflow: hidden;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}
.page { width: 100%; display: grid; place-items: center; padding: 16px; }

/* GLASS CARD — compact, auto height */
.glass-form {
    --bg-color: rgba(255, 255, 255, 0.20);
    --highlight: rgba(255, 255, 255, 0.65);
    --text: #ffffff;
    --input-bg: rgba(255, 255, 255, 0.08);
    --input-border: rgba(255, 255, 255, 0.18);
    --input-focus: rgba(255, 255, 255, 0.20);

    position: relative;
    z-index: 10;                 /* card below the a11y sheet/fab */
    width: min(380px, 92vw);
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 6px 24px rgba(0,0,0,0.25);
    transition: transform .28s cubic-bezier(.2,.7,.3,1);
}

.glass-filter,
.glass-overlay,
.glass-specular { position: absolute; inset: 0; border-radius: inherit; }

/* Distortion ON by default */
.glass-filter {
    z-index: 1;
    backdrop-filter: blur(2px);
    filter: url(#glass-distortion) saturate(110%) brightness(1.05);
}

.glass-overlay { z-index: 2; background: var(--bg-color); }

.glass-specular {
    z-index: 3; pointer-events: none;
    box-shadow: inset 1px 1px 1px var(--highlight);
    /* mouse-follow shimmer set via JS */
}

.glass-content { position: relative; z-index: 4; padding: 24px; color: var(--text); }

/* Forms in-flow so the card can shrink/grow naturally */
.form-container { display: none; }
.form-container.active { display: block; }

.form-container h3 {
    margin: 4px 0 16px 0;
    font-size: 30px; font-weight: 800; text-align: center;
}

/* Shared grid + exact control widths */
.form-grid { display: grid; gap: 12px; justify-items: center; }
.form-group, .form-actions { width: 100%; display: flex; justify-content: center; }

:root { --control-max: 320px; }
.control {
    width: 100%;
    max-width: var(--control-max);    /* EXACT same width for fields & button */
    box-sizing: border-box;
    border-radius: 12px;
}

/* Inputs */
.form-group .control {
    padding: 12px 14px;
    background: var(--input-bg);
    border: 1px solid var(--input-border);
    color: var(--text);
    font-size: 16px;
    transition: border-color .2s ease, background .2s ease, transform .08s ease;
}
.form-group .control:focus {
    outline: none; background: var(--input-focus); border-color: var(--highlight);
}
/*HERE!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!*/
/* Button matches EXACT width + radius */
.form-actions .control {
    padding: 12px 14px;
    background: rgba(255,255,255,.22);
    border: 1px solid rgba(255,255,255,.30);
    color: var(--text);
    font-size: 16px; font-weight: 700; cursor: pointer;
    transition: background .2s, border-color .2s, transform .08s ease;
}
.form-actions .control:hover { background: rgba(255,255,255,.30); border-color: rgba(255,255,255,.45); }
.form-actions .control:active { transform: translateY(1px); }
button.success { background: rgba(60,255,150,.35); border-color: rgba(60,255,150,.65); }

.form-switch { text-align: center; margin: 14px 0 4px; font-size: 14px; }
.form-switch a { color: var(--text); text-decoration: none; font-weight: 800; }
.form-switch a:hover { text-decoration: underline; }

/* -------- Apple-style switch animation between forms -------- */
.glass-form.animating { transform: scale(.985); } /* subtle “press” feel */

.form-container.entering {
    animation: slideIn .34s cubic-bezier(.2,.7,.3,1) both;
}
.form-container.leaving {
    position: absolute; inset: 0;   /* overlay without affecting layout */
    animation: slideOut .28s cubic-bezier(.2,.7,.3,1) forwards;
}

@keyframes slideIn {
    0%   { opacity: 0; transform: translateX(18px); }
    100% { opacity: 1; transform: translateX(0); }
}
@keyframes slideOut {
    0%   { opacity: 1; transform: translateX(0); }
    100% { opacity: 0; transform: translateX(-18px); }
}

/* ----------------------------- */
/* Accessibility FAB + Sheet     */
/* ----------------------------- */

.a11y-fab {
    position: fixed; right: 16px; bottom: 16px;
    z-index: 1001;                 /* always above the card */
    width: 60px; height: 60px;     /* slightly bigger */
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,.35);
    background: rgba(255,255,255,.18);
    color: #fff; display: grid; place-items: center;
    cursor: pointer; backdrop-filter: blur(8px);
    box-shadow: 0 8px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.5);
}
.a11y-fab:focus-visible { outline: 3px solid #fff; outline-offset: 2px; }
.a11y-icon { width: 36px; height: 36px; display: block; } /* bigger icon */

.a11y-panel {
    position: fixed; right: 16px; bottom: 86px;  /* offset for larger FAB */
    z-index: 1002;                 /* on top of everything */
    width: min(320px, 92vw);
    padding: 14px 14px;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,.35);
    background: rgba(20,20,20,.55);
    color: #fff; backdrop-filter: blur(18px) saturate(120%);
    box-shadow: 0 20px 40px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.2);
}
.a11y-panel[hidden] { display: none; }
.sheet-grabber { width: 36px; height: 4px; border-radius: 999px; margin: 2px auto 8px; background: rgba(255,255,255,.5); }
.a11y-panel h2 { margin: 0 0 8px 0; font-size: 17px; font-weight: 800; }

.a11y-row { display: flex; align-items: center; justify-content: space-between; padding: 10px 10px; border-radius: 12px; }
.a11y-row:hover { background: rgba(255,255,255,.06); }
.a11y-text { font-size: 14px; }

.switch-input { position: absolute; opacity: 0; width: 0; height: 0; }
.switch {
    position: relative; width: 48px; height: 28px; border-radius: 999px;
    background: rgba(255,255,255,.25);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.35);
    transition: background .2s ease;
}
.switch::after {
    content: ""; position: absolute; top: 3px; left: 3px; width: 22px; height: 22px; border-radius: 50%;
    background: #fff; box-shadow: 0 1px 2px rgba(0,0,0,.35);
    transition: transform .2s ease;
}
.a11y-row .switch-input:checked + .switch { background: #34c759; box-shadow: inset 0 0 0 1px rgba(0,0,0,.15); }
.a11y-row .switch-input:checked + .switch::after { transform: translateX(20px); }

.a11y-footer { margin-top: 8px; font-size: 12px; opacity: .85; }

/* ----------------------------- */
/* Accessibility EFFECT classes  */
/* ----------------------------- */

/* 1) Reduce transparency */
.a11y-reduced-transparency .glass-form {
    --bg-color: rgba(255,255,255,0.35);
    --input-bg: rgba(255,255,255,0.16);
    --input-focus: rgba(255,255,255,0.24);
}

/* 2) Remove distortion ONLY when toggle is on */
.a11y-no-distortion .glass-filter {
    filter: saturate(110%) brightness(1.05); /* no url(#glass-distortion) */
}

/* 3) Increase contrast */
.a11y-high-contrast .glass-form {
    --bg-color: rgba(0,0,0,0.55);
    --text: #ffffff;
    --input-bg: rgba(0,0,0,0.5);
    --input-border: rgba(255,255,255,0.6);
    --input-focus: rgba(0,0,0,0.65);
}
.a11y-high-contrast .glass-specular { box-shadow: inset 1px 1px 0 rgba(255,255,255,0.9); }
.a11y-high-contrast .form-actions .control {
    background: rgba(255,255,255,0.10);
    border-color: rgba(255,255,255,0.75);
}

/* Small viewport height fallback */
@media (max-height: 640px) { .glass-form { width: min(400px, 92vw); } }
